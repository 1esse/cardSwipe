<wxs module="cs" src="./cardSwipe.wxs"></wxs>
<view class="wrapper" style="padding-top: 30px;">
    <view class="cards" style="height: {{height + sc * upHeight * cs.pow(1 - scaleRatio, sc)}}rpx">
        <block wx:for="{{cards}}" wx:for-item="card" wx:key="index">
            <view wx:if="{{card && (circling ? (cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'in') && index !== just_shown) : (index >= current_cursor && index < cs.getRangeRemoves(removedCards, current_cursor, sc, cards.length)))}}" class="card {{cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'in') && cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'loc') >= 1 && transition ? 'card-next' : ''}}" style="height: {{height}}rpx; position: absolute; top: {{upHeightpx * cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'loc')}}px; transform: translate3d(0, 0, {{current_z_index[cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'loc')]}}px) scale({{1-(scaleRatio*cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'loc'))}});{{transition ? 'transition: all ease 0.2s;' : ''}}" data-current-cursor="{{current_cursor}}" data-card-index="{{index}}" data-card-zindex="{{current_z_index[cs.circleRange(index, current_cursor, sc, cards.length, removedCards, 'loc')]}}" data-slide-thershold="{{slideThershold}}" data-context-width="{{contextWidth}}" data-slide-duration="{{slideDuration}}" data-rotate-deg="{{rotateDeg}}" mut-bind:touchstart="{{cs.touchstart}}" mut-bind:touchmove="{{cs.touchmove}}" mut-bind:touchend="{{cs.touchend}}">
                <!-- 卡片内容区域 -->
                <view class="card-info">
                    <view class="top" style="height: 600rpx;">
                        <image lazy-load="{{true}}" src="{{card.src}}" style="width: 100%; height: 100%; border-top-left-radius: 10rpx; border-top-right-radius: 10rpx;" mode="aspectFill" />
                    </view>
                    <view class="bottom" style="height: {{height - 600}}rpx">
                        <text style="font-size: 36rpx; color: #333333;">{{card.title}}</text>
                        <text style="font-size: 28rpx; color: #999999;">{{card.desc}}</text>
                    </view>
                </view>
                <!-- 卡片内容区域 -->
            </view>
        </block>
    </view>
</view>